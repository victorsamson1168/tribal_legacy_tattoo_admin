{"version":3,"sources":["components/ListRow.js","firebase/index.js","App.js","reportWebVitals.js","index.js"],"names":["SingleRowCom","props","useState","isModalVisible","setIsModalVisible","loader","setLoader","deletePost","console","log","id","axios","delete","then","res","fetchData","message","success","catch","err","error","type","color","height","width","className","title","visible","onOk","onCancel","src","image","alt","key","onClick","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","App","selectedFile","setSelectedFile","setHeight","setWidth","useEffect","a","get","setData","data","Data","setTotaldocuments","total_documents","totaldocuments","ref","name","lastModified","put","on","snapshot","child","getDownloadURL","url","post","onChange","e","target","files","reader","FileReader","onload","img","Image","result","readAsDataURL","accept","URL","createObjectURL","style","maxWidth","map","item","ind","ListRow","_id","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7b6135bc.chunk.js","sourcesContent":["import { Button, message, Modal } from \"antd\";\r\nimport axios from \"axios\";\r\nimport React from \"react\";\r\nimport rowStyle from \"../components/listRow.css\";\r\nimport { useState } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n\r\nfunction SingleRowCom(props) {\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [loader, setLoader] = useState(false);\r\n\r\n  const handleOk = () => {\r\n    deletePost();\r\n    setIsModalVisible(false);\r\n  };\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const deletePost = () => {\r\n      setLoader(true);\r\n    console.log(props.id);\r\n    axios\r\n      .delete(`https://tribal-legacy-tattoo.herokuapp.com/posts/${props.id}`)\r\n      .then((res) => {\r\n        props.fetchData();\r\n        message.success(\"Post Deleted\");\r\n        setLoader(false); \r\n         })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        message.error(err.message);\r\n        setLoader(false);\r\n      });\r\n  };\r\n  return (\r\n    loader?<Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        className=\"loader\"\r\n      />:\r\n    <div className=\"row\">\r\n       \r\n      <Modal\r\n        title=\"delete Modal\"\r\n        visible={isModalVisible}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n      >\r\n        <p>do you really want to delete ?</p>\r\n      </Modal>\r\n      <img src={props?.image} alt=\"tattoo\" className=\"image\" />\r\n      <p>{props.key}</p>\r\n\r\n      <p>width: {props?.width}</p>\r\n      <p>height: {props?.height}</p>\r\n      <Button\r\n        type=\"danger\"\r\n        onClick={() => {\r\n          setIsModalVisible(true);\r\n        }}\r\n      >\r\n        {\" \"}\r\n        delete\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SingleRowCom;\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDumhtIztG6O8lVcHCerlGbTE94gu_m6mo\",\r\n    authDomain: \"tribal-legacy-tattoo.firebaseapp.com\",\r\n    projectId: \"tribal-legacy-tattoo\",\r\n    storageBucket: \"tribal-legacy-tattoo.appspot.com\",\r\n    messagingSenderId: \"499502304347\",\r\n    appId: \"1:499502304347:web:34ff2c179ff8f85466c37e\",\r\n    measurementId: \"G-MZJWHF4LYC\"\r\n  };\r\n\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n  console.log(firebase);\r\n\r\n  let storage = firebase.storage();\r\n  // console.log(typeof(storage));\r\n  \r\n   export {storage,firebase as default};","// import logo from './logo.svg';\nimport \"./App.css\";\nimport { Button, Input, message, Modal } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport ListRow from \"./components/ListRow.js\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { storage } from \"./firebase\";\n\nfunction App() {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [selectedFile, setSelectedFile] = useState(\"\");\n  const [height, setHeight] = useState(\"\");\n  const [width, setWidth] = useState(\"\");\n\n  const onFileChange = (e) => {\n    // console.log(e.target.files[0]);\n    setSelectedFile(e.target.files[0]);\n    var reader = new FileReader();\n    reader.onload = function (e) {\n      var img = new Image();\n      img.onload = function () {\n        console.log(\n          \"The width of the image is \" +\n            img.width +\n            \" width px. and\" +\n            img.height +\n            \" height px.\"\n        );\n        setHeight(img.height);\n        setWidth(img.width);\n      };\n      img.src = reader.result;\n    };\n    reader.readAsDataURL(e.target.files[0]);\n  };\n\n  useEffect(() => {\n    console.log(selectedFile);\n  }, [selectedFile]);\n\n  // const addImage = () => {\n  //   setIsModalVisible(true);\n  // };\n\n  const handleOk = () => {\n    console.log(selectedFile);\n    setLoader(true);\n    const uploadTask = storage\n      .ref(`images/${selectedFile.name+\"_\"+selectedFile.lastModified}`)\n      .put(selectedFile);\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {},\n      (error) => {\n        // error function ...\n        setLoader(false);\n        console.log(error);\n      },\n      () => {\n        // complete function ...\n        storage\n          .ref(\"images\")\n          .child(selectedFile.name)\n          .getDownloadURL()\n          .then((url) => {\n            console.log(url);\n            axios\n              .post(\"https://tribal-legacy-tattoo.herokuapp.com/posts\", {\n                url: url,\n                height: height,\n                width: width,\n              })\n              .then((res) => {\n                console.log(res);\n                fetchData();\n                message.success(\"successfully added\");\n                setLoader(false);\n              })\n              .catch((err) => {\n                console.log(err);\n                fetchData();\n                message.error(\"something went wrong\");\n                setLoader(false);\n              });\n          });\n      }\n    );\n\n    setIsModalVisible(false);\n  };\n  const handleCancel = () => {\n    setWidth(\"\");\n    setHeight(\"\");\n    setSelectedFile(\"\");\n    setIsModalVisible(false);\n  };\n\n  const fetchData = async () => {\n    setLoader(true);\n    axios\n      .get(\"https://tribal-legacy-tattoo.herokuapp.com/posts\")\n      .then((res) => {\n        setData(res.data.Data);\n        setTotaldocuments(res.data.total_documents);\n        setLoader(false);\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoader(false);\n      });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const [data, setData] = useState([]);\n  const [totaldocuments, setTotaldocuments] = useState([]);\n  const [loader, setLoader] = useState(false);\n\n  return loader ? (\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      className=\"loader\"\n    />\n  ) : (\n    <div className=\"App\">\n      <Modal\n        title=\"add image Modal\"\n        visible={isModalVisible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n      >\n        <input type=\"file\" onChange={onFileChange} accept=\"image/*\" />\n        <img\n          src={selectedFile ? URL.createObjectURL(selectedFile) : \"\"}\n          style={{ maxWidth: \"100%\" }}\n        ></img>\n      </Modal>\n\n      <header className=\"header\">\n        <h1>Admin Panel</h1>\n        <Button type=\"primary\" onClick={() => setIsModalVisible(true)}>\n          add image\n        </Button>\n      </header>\n\n      <h4>\n        total no. of item <strong>{totaldocuments}</strong>{\" \"}\n      </h4>\n      {data.map((item, ind) => {\n        // console.log(ind);\n        return (\n          <ListRow\n            key={item.id}\n            height={item?.height}\n            width={item?.width}\n            id={item._id}\n            image={item.url}\n            fetchData={fetchData}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}