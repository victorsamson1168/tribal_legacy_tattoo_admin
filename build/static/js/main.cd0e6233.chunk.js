(this["webpackJsonptribal-legacy-tattoo-admin"]=this["webpackJsonptribal-legacy-tattoo-admin"]||[]).push([[0],{116:function(t,e,a){},140:function(t,e,a){"use strict";a.r(e);var c=a(0),n=a.n(c),o=a(19),i=a.n(o),s=(a(96),a(62)),l=a.n(s),r=a(77),d=a(23),u=(a(97),a(88)),h=a(143),j=a(43),b=(a(98),a(38)),f=a.n(b),g=(a(116),a(48)),p=a.n(g),O=(a(76),a(7));var m=function(t){var e=Object(c.useState)(!1),a=Object(d.a)(e,2),n=a[0],o=a[1],i=Object(c.useState)(!1),s=Object(d.a)(i,2),l=s[0],r=s[1],b=function(){r(!0),console.log(t.id),f.a.delete("https://tribal-legacy-tattoo.herokuapp.com/posts/".concat(t.id)).then((function(e){t.fetchData(),u.b.success("Post Deleted"),r(!1)})).catch((function(t){console.log(t),u.b.error(t.message),r(!1)}))};return l?Object(O.jsx)(p.a,{type:"Puff",color:"#00BFFF",height:100,width:100,className:"loader"}):Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)(h.a,{title:"delete Modal",visible:n,onOk:function(){b(),o(!1)},onCancel:function(){o(!1)},children:Object(O.jsx)("p",{children:"do you really want to delete ?"})}),Object(O.jsx)("img",{src:null===t||void 0===t?void 0:t.image,alt:"tattoo",className:"image"}),Object(O.jsx)("p",{children:t.key}),Object(O.jsxs)("p",{children:["width: ",null===t||void 0===t?void 0:t.width]}),Object(O.jsxs)("p",{children:["height: ",null===t||void 0===t?void 0:t.height]}),Object(O.jsxs)(j.a,{type:"danger",onClick:function(){o(!0)},children:[" ","delete"]})]})},v=a(44);a(141);v.a.initializeApp({apiKey:"AIzaSyDumhtIztG6O8lVcHCerlGbTE94gu_m6mo",authDomain:"tribal-legacy-tattoo.firebaseapp.com",projectId:"tribal-legacy-tattoo",storageBucket:"tribal-legacy-tattoo.appspot.com",messagingSenderId:"499502304347",appId:"1:499502304347:web:34ff2c179ff8f85466c37e",measurementId:"G-MZJWHF4LYC"}),console.log(v.a);var x=v.a.storage();var w=function(){var t=Object(c.useState)(!1),e=Object(d.a)(t,2),a=e[0],n=e[1],o=Object(c.useState)(""),i=Object(d.a)(o,2),s=i[0],b=i[1],g=Object(c.useState)(""),v=Object(d.a)(g,2),w=v[0],y=v[1],S=Object(c.useState)(""),k=Object(d.a)(S,2),F=k[0],C=k[1];Object(c.useEffect)((function(){console.log(s)}),[s]);var D=function(){var t=Object(r.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(!0),f.a.get("https://tribal-legacy-tattoo.herokuapp.com/posts").then((function(t){N(t.data.Data),B(t.data.total_documents),U(!1)})).catch((function(t){console.log(t),U(!1)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){D()}),[]);var I=Object(c.useState)([]),L=Object(d.a)(I,2),M=L[0],N=L[1],P=Object(c.useState)([]),_=Object(d.a)(P,2),A=_[0],B=_[1],R=Object(c.useState)(!1),E=Object(d.a)(R,2),T=E[0],U=E[1];return T?Object(O.jsx)(p.a,{type:"Puff",color:"#00BFFF",height:100,width:100,className:"loader"}):Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)(h.a,{title:"add image Modal",visible:a,onOk:function(){console.log(s),U(!0),x.ref("images/".concat(s.lastModified+"_"+s.name)).put(s).on("state_changed",(function(t){}),(function(t){U(!1),console.log(t)}),(function(){x.ref("images/".concat(s.lastModified+"_"+s.name)).getDownloadURL().then((function(t){console.log(t),f.a.post("https://tribal-legacy-tattoo.herokuapp.com/posts",{url:t,height:w,width:F}).then((function(t){console.log(t),D(),C(""),y(""),b(""),u.b.success("successfully added"),U(!1)})).catch((function(t){console.log(t),D(),C(""),y(""),b(""),u.b.error("something went wrong"),U(!1)}))}))})),n(!1)},onCancel:function(){C(""),y(""),b(""),n(!1)},children:[Object(O.jsx)("input",{type:"file",onChange:function(t){b(t.target.files[0]);var e=new FileReader;e.onload=function(t){var a=new Image;a.onload=function(){console.log("The width of the image is "+a.width+" width px. and"+a.height+" height px."),y(a.height),C(a.width)},a.src=e.result},e.readAsDataURL(t.target.files[0])},accept:"image/*"}),Object(O.jsx)("img",{src:s?URL.createObjectURL(s):"",style:{maxWidth:"100%"}})]}),Object(O.jsxs)("header",{className:"header",children:[Object(O.jsx)("h1",{children:"Admin Panel"}),Object(O.jsx)(j.a,{type:"primary",onClick:function(){return n(!0)},children:"add image"})]}),Object(O.jsxs)("h4",{children:["total no. of item ",Object(O.jsx)("strong",{children:A})," "]}),M.map((function(t,e){return Object(O.jsx)(m,{height:null===t||void 0===t?void 0:t.height,width:null===t||void 0===t?void 0:t.width,id:t._id,image:t.url,fetchData:D},t.id)}))]})},y=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,144)).then((function(e){var a=e.getCLS,c=e.getFID,n=e.getFCP,o=e.getLCP,i=e.getTTFB;a(t),c(t),n(t),o(t),i(t)}))};i.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root")),y()},96:function(t,e,a){},97:function(t,e,a){}},[[140,1,2]]]);
//# sourceMappingURL=main.cd0e6233.chunk.js.map